* ---1---
* add Parser.compile
** implement tok compile for lit/id
** commit compile phase
* move eval out of Op
* ---2---
* finish support for hex/bin notation in parse_int
* add Chan
** add Chan type
** use deque
** finish thread test
*** prod/cons/queue
* add Op encode/decode
** add Val encode/decode type methods
* add load(vm, path)/store(vm, path)
* add Iter type
** add types::iter method
** add Iter type
** add Iter op
** add Next op
*** peek iter && push next value or NIL
** add Stack iter
* add eval trace support
* add tasks
** use Pause to switch
** separate stacks
** add StartTask op
** add Snooze op
* add repl template
* add Dump op
** dump val on stack to specified stream
* ---N---

label: fib
  if (< 2) ret
  dec cp call &fib
  + (swap dec call &fib)
  ret

20 call fib 
stop


label: foo-Int
  say "Int"

label: foo
  goto (find-label (str "foo-" (typeofs 0)))

42 call foo
"bar" call foo


